(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2539eaae"],{"2f21":function(t,e,s){"use strict";var n=s("79e5");t.exports=function(t,e){return!!t&&n(function(){e?t.call(null,function(){},1):t.call(null)})}},"49ff":function(t,e,s){"use strict";var n=s("dc61"),o=s.n(n);o.a},"55dd":function(t,e,s){"use strict";var n=s("5ca1"),o=s("d8e8"),a=s("4bf8"),r=s("79e5"),i=[].sort,l=[1,2,3];n(n.P+n.F*(r(function(){l.sort(void 0)})||!r(function(){l.sort(null)})||!s("2f21")(i)),"Array",{sort:function(t){return void 0===t?i.call(a(this)):i.call(a(this),o(t))}})},"5d70":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"mt-3 px-2 px-md-0"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-11 col-12 content-col p-lg-5 p-3"},[s("div",[s("dashboard-title",{attrs:{title:"Your accounts",withClock:!0}}),s("div",{staticClass:"row mt-5"},[s("div",{staticClass:"col-md-6 col-12"},[s("h4",{staticClass:"d-md-inline d-block filter-menu-item fw-100",class:{"active fw-400":"all"==t.visualization},on:{click:function(e){t.visualization="all",t.filter("all")}}},[t._v("\n                All\n              ")]),s("h4",{staticClass:"d-md-inline d-block filter-menu-item fw-100 ms-md-2",class:{"active fw-400":"growing"==t.visualization},on:{click:function(e){t.visualization="growing",t.filter("growing")}}},[t._v("\n                Growing\n              ")]),s("h4",{staticClass:"d-md-inline d-block filter-menu-item fw-100 ms-md-2",class:{"active fw-400":"lowering"==t.visualization},on:{click:function(e){t.visualization="lowering",t.filter("lowering")}}},[t._v("\n                Lowering\n              ")]),s("h4",{staticClass:"\n                  d-md-inline d-block\n                  filter-menu-item\n                  snoozed_menu\n                  fw-100\n                  ms-md-2\n                ",class:{"active fw-400":"snoozed"==t.visualization},on:{click:function(e){t.visualization="snoozed",t.filter("snoozed")}}},[t._v("\n                Snoozed\n                "),s("span",{staticClass:"\n                    snoozed_menu_badge\n                    badge\n                    accent-bg\n                    text-white\n                    px-2\n                    p-0\n                  "},[s("small",[t._v(t._s(t.user.snoozed?t.user.snoozed.length:0))])])])]),s("div",{staticClass:"col-md-6 float-end col-12"},[s("div",{staticClass:"row float-md-end"},[s("div",{staticClass:"dropdown my-auto pointer ms-lg-3 me-lg-4",attrs:{"data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._m(0),s("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("a",{staticClass:"dropdown-item",on:{click:function(e){return t.changeRange(2)}}},[t._v("Yesterday")]),s("a",{staticClass:"dropdown-item",on:{click:function(e){return t.changeRange(7)}}},[t._v("7 days")]),s("a",{staticClass:"dropdown-item",on:{click:function(e){return t.changeRange(14)}}},[t._v("14 days")]),s("a",{staticClass:"dropdown-item",on:{click:function(e){return t.changeRange(30)}}},[t._v("30 days")])])]),s("div",{staticClass:"col text-left px-0 mx-0 my-auto d-none"},[s("h6",{staticClass:"fw-100 my-auto"},[s("v-date-picker",{attrs:{color:"orange","is-range":"","max-date":new Date,masks:{input:"DD MMM YYYY"}},on:{input:t.choosenDates},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.inputValue,o=e.inputEvents;return[s("div",{staticClass:"opacity-7"},[s("input",t._g({staticClass:"\n                              border-0\n                              px-2\n                              py-1\n                              text-center\n                              focus:outline-none focus:border-indigo-300\n                            ",attrs:{size:n.start.length+1},domProps:{value:n.start}},o.start)),s("i",{staticClass:"fas fa-arrow-right mx-3"}),s("input",t._g({staticClass:"\n                              border-0\n                              py-1\n                              text-center\n                              focus:outline-none focus:border-indigo-300\n                            ",attrs:{size:n.end.length+1},domProps:{value:n.end}},o.end))])]}}]),model:{value:t.range,callback:function(e){t.range=e},expression:"range"}})],1)])])])]),s("div",{staticClass:"row mt-2"},[s("div",{staticClass:"col"},[t._l(this.$store.getters.user.folders?this.$store.getters.user.folders:[],function(e){return s("span",{key:e.name,staticClass:"\n                  badge\n                  rounded-pill\n                  p-2\n                  px-3\n                  outline-light-gray\n                  translate1px\n                  me-2\n                  mt-1\n                  pointer\n                ",class:{"opacity-5":e.name!=t.selectedFolder.name&&""!=t.selectedFolder.name}},[s("span",{on:{click:function(s){t.selectedFolder=e,t.filter()}}},[s("i",{staticClass:"fas fa-folder opacity-5 ms-2"}),t._v("\n                  "+t._s(e.name)+"\n                  "),s("small",{staticClass:"opacity-5"},[t._v(t._s(e.accountsInFolder?e.accountsInFolder.length:0))])]),s("small",{staticClass:"remove-folder",on:{click:function(s){return t.deleteFolderSwal(e.name)}}},[s("i",{staticClass:"fas fa-trash ms-1"})])])}),s("span",{staticClass:"\n                  badge\n                  rounded-pill\n                  p-2\n                  px-3\n                  outline-light-gray\n                  translate1px\n                  opacity-7\n                  me-2\n                  mt-1\n                  pointer\n                ",on:{click:t.addFolderSwal}},[s("i",{staticClass:"fas fa-folder-plus opacity-5"}),t._v(" Add folder")]),""!=t.selectedFolder.name?s("span",{staticClass:"\n                  badge\n                  translate1px\n                  p-2\n                  px-2\n                  opacity-7\n                  me-2\n                  mt-1\n                  pointer\n                  text-accent\n                ",on:{click:function(e){t.selectedFolder={name:"",accountsInFolder:[]},t.filter()}}},[s("i",{staticClass:"fas fa-chevron-circle-left text-accent"}),t._v("\n                Reset\n              ")]):t._e()],2)]),s("div",{staticClass:"row mt-4"},[s("div",{staticClass:"col"},[s("div",{staticClass:"card transparent-card"},[s("div",{staticClass:"card-body"},[t.$store.getters.uisettings.isCustomDashboard?t._e():s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-10 col-12"},[s("button",{staticClass:"\n                          btn\n                          bg-green\n                          text-white\n                          translate1px\n                          mt-2 mt-lg-0\n                        ",on:{click:t.addAccountSwal}},[t._v("\n                        Add account\n                        "),s("i",{staticClass:"fas fa-plus-circle text-white ms-2"})]),this.$store.getters.user.prolevel>2?s("button",{staticClass:"\n                          btn\n                          bg-light-gray\n                          text-white\n                          translate1px\n                          ms-lg-3\n                          mt-2 mt-lg-0\n                        ",on:{click:function(e){t.addCsvModal=!t.addCsvModal}}},[t._v("\n                        Bulk add\n                        "),s("i",{staticClass:"fas fa-user-plus text-white ms-2"})]):t._e()]),s("div",{staticClass:"\n                        col-md-2 col-12\n                        mt-md-0 mt-3\n                        pull-right\n                        float-right\n                      "},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],staticClass:"form-control",attrs:{id:"searchform",placeholder:"Search"},domProps:{value:t.searchInput},on:{keyup:t.filter,input:function(e){e.target.composing||(t.searchInput=e.target.value)}}})])]),t.isLoading?s("div",{staticClass:"py-5"},[t._m(1)]):s("div",{staticClass:"row mt-4"},[s("div",{staticClass:"col table-responsive"},[0==t.profiles.length?s("div",[s("h4",{staticClass:"text-center"},[t._v("\n                          Nothing to see here\n                          "),"growing"==t.visualization?s("span",[t._v("ðŸ˜”")]):t._e(),"lowering"==t.visualization?s("span",[t._v("ðŸ¥³")]):s("span")])]):s("table",{staticClass:"table"},[s("thead",{staticClass:"text-center"},[s("tr",[s("th"),s("th",{class:{active_sort:"username"==t.sortby.what},on:{click:function(e){return t.sortBy("username")}}},[t._v("\n                              Username\n                              "),s("i",{staticClass:"fas ms-1 opacity-5",class:{"fa-sort-numeric-up-alt":"desc"==t.sortby.how&&"username"==t.sortby.what,"fa-sort-numeric-down-alt":"asc"==t.sortby.how&&"username"==t.sortby.what}})]),s("th",{class:{active_sort:"followers"==t.sortby.what},on:{click:function(e){return t.sortBy("followers")}}},[t._v("\n                              Followers\n                              "),s("i",{staticClass:"fas ms-1 opacity-5",class:{"fa-sort-numeric-up-alt":"desc"==t.sortby.how&&"followers"==t.sortby.what,"fa-sort-numeric-down-alt":"asc"==t.sortby.how&&"followers"==t.sortby.what}})]),s("th",{class:{active_sort:"following"==t.sortby.what},on:{click:function(e){return t.sortBy("following")}}},[t._v("\n                              Following\n                              "),s("i",{staticClass:"fas ms-1 opacity-5",class:{"fa-sort-numeric-up-alt":"desc"==t.sortby.how&&"following"==t.sortby.what,"fa-sort-numeric-down-alt":"asc"==t.sortby.how&&"following"==t.sortby.what}})]),s("th",{class:{active_sort:"posts"==t.sortby.what},on:{click:function(e){return t.sortBy("posts")}}},[t._v("\n                              Posts\n                              "),s("i",{staticClass:"fas ms-1 opacity-5",class:{"fa-sort-numeric-up-alt":"desc"==t.sortby.how&&"posts"==t.sortby.what,"fa-sort-numeric-down-alt":"asc"==t.sortby.how&&"posts"==t.sortby.what}})]),s("th",{class:{active_sort:"engagement"==t.sortby.what},on:{click:function(e){return t.sortBy("engagement")}}},[t._v("\n                              Engagement\n                              "),s("i",{staticClass:"fas ms-1 opacity-5",class:{"fa-sort-numeric-up-alt":"desc"==t.sortby.how&&"engagement"==t.sortby.what,"fa-sort-numeric-down-alt":"asc"==t.sortby.how&&"engagement"==t.sortby.what}})]),s("th",[t._v("Folder")]),s("th",[t._v("Actions")])])]),s("tbody",{staticClass:"text-center"},t._l(t.profiles,function(e){return s("tr",{key:e.id},[s("td",{staticClass:"text-end"},[s("img",{staticClass:"rounded-circle",attrs:{height:"40",src:e.profilepic},on:{error:t.profilePicAlt}})]),s("td",{},[s("router-link",{staticClass:"text-dark",attrs:{to:"/dashboard/"+e._id}},[s("span",{staticClass:"ms-3"},[t._v(t._s(e._id))]),s("br"),s("small",{staticClass:"opacity-7"},[t._v(t._s(t._f("dayMonth")(e.stat_0.date))+"\n                                  to\n                                  "+t._s(t._f("dayMonth")(e.stat_1.date)))])])],1),s("td",[s("span",{staticClass:"fw-100",class:t.checkColor(e.stat_1.followedby-e.stat_0.followedby)},[s("p",{staticClass:"m-0 fw-400"},[t._v("\n                                  "+t._s(t._f("tolocale")(e.stat_1.followedby))+"\n                                ")]),t.$store.state.user.prolevel>=t.$store.state.user.linkedAccounts.length?s("span",[t._v("\n                                  "+t._s(t._f("minusOrPlus")(e.stat_1.followedby-e.stat_0.followedby))+"\n                                ")]):s("span",[t._v("-")])])]),s("td",[s("span",{staticClass:"fw-100",class:t.checkColor(e.stat_1.following-e.stat_0.following)},[s("p",{staticClass:"m-0 fw-400"},[t._v("\n                                  "+t._s(t._f("tolocale")(e.stat_1.following))+"\n                                ")]),t.$store.state.user.prolevel>=t.$store.state.user.linkedAccounts.length?s("span",[t._v("\n                                  "+t._s(t._f("minusOrPlus")(e.stat_1.following-e.stat_0.following))+"\n                                ")]):s("span",[t._v("-")])])]),s("td",[s("span",{staticClass:"fw-100",class:t.checkColor(e.stat_1.posts-e.stat_0.posts)},[s("p",{staticClass:"m-0 fw-400"},[t._v("\n                                  "+t._s(t._f("tolocale")(e.stat_1.posts))+"\n                                ")]),t.$store.state.user.prolevel>=t.$store.state.user.linkedAccounts.length?s("span",[t._v("\n                                  "+t._s(t._f("minusOrPlus")(e.stat_1.posts-e.stat_0.posts))+"\n                                ")]):s("span",[t._v("-")])])]),s("td",[s("span",{staticClass:"fw-100",class:t.checkColor(e.stat_1.engagement-e.stat_0.engagement)},[s("p",{staticClass:"m-0 fw-400"},[t._v("\n                                  "+t._s(t._f("tolocale")(e.stat_1.engagement))+"%\n                                ")]),t.$store.state.user.prolevel>=t.$store.state.user.linkedAccounts.length?s("span",[t._v("\n                                  "+t._s(t._f("minusOrPlus")(e.stat_1.engagement-e.stat_0.engagement))+"%\n                                ")]):s("span",[t._v("-")])])]),s("td",[t._l(t.$store.getters.user.folders?t.$store.getters.user.folders.filter(function(t){return!!t.accountsInFolder&&t.accountsInFolder.indexOf(e._id)>-1}):[],function(n){return s("span",{key:n.name,staticClass:"\n                                  badge\n                                  rounded-pill\n                                  fw-100\n                                  outline-light-gray\n                                  pointer\n                                  me-1\n                                  folder-pill\n                                "},[s("span",{on:{click:function(e){t.selectedFolder=n,t.filter()}}},[t._v(t._s(n.name))]),s("VueCustomTooltip",{staticClass:"remove-from-folder ms-1",attrs:{label:"Remove from folder"}},[s("i",{staticClass:"\n                                      fas\n                                      fa-times-circle\n                                      text-light-gray\n                                      fa-sm\n                                    ",on:{click:function(s){return t.removeAccountFromFolder(e._id,n.name)}}})])],1)}),s("div",[s("span",{staticClass:"\n                                    badge\n                                    rounded-pill\n                                    opacity-7\n                                    fw-100\n                                    outline-light-gray\n                                    pointer\n                                    me-1\n                                  ",on:{click:function(s){return t.selectAccountForFolder(e._id)}}},[t._v("\n                                  Add\n                                  "),s("i",{staticClass:"\n                                      fas\n                                      fa-plus-circle fa-sm\n                                      text-light-gray\n                                    "})]),s("div",{staticClass:"selectaddfoldercard-parent"},[s("div",{staticClass:"selectaddfoldercard card py-1 px-3",class:{"d-none":t.showfolderforprofile!=e._id}},[s("div",{staticClass:"transparent-card"},t._l(t.$store.getters.user.folders,function(n){return s("div",{key:n.name,staticClass:"row"},[s("div",{staticClass:"col my-0 py-0",on:{click:function(s){return t.addAccountToFolder(e._id,n.name)}}},[s("small",[t._v(t._s(n.name))])])])}),0)])])])],2),s("td",[s("VueCustomTooltip",{attrs:{label:"Show insights"}},[s("router-link",{attrs:{to:"/dashboard/"+e._id}},[s("span",[s("i",{staticClass:"\n                                        fas\n                                        fa-chart-line\n                                        text-dark\n                                        opacity-5\n                                      "})])])],1),s("VueCustomTooltip",{attrs:{label:t.checkSnoozed(e._id)?"Show again":"Hide for 3 days"}},[s("span",{on:{click:function(s){return t.snooze(e._id)}}},[s("i",{staticClass:"fas text-dark opacity-5 ms-2",class:{"fa-eye":t.checkSnoozed(e._id),"fa-eye-slash":!t.checkSnoozed(e._id)}})])]),s("VueCustomTooltip",{attrs:{label:"Remove from your list"}},[s("span",[s("i",{staticClass:"\n                                      fas\n                                      fa-trash\n                                      text-dark\n                                      ms-2\n                                      opacity-5\n                                    ",on:{click:function(s){return t.deleteAccountSwal(e._id)}}})])])],1)])}),0)])])])])])])])],1)])])]),s("div",{staticClass:"modal fade",class:{"show d-block":t.addCsvModal}},[s("div",{staticClass:"modal-dialog modal-dialog-centered modal-dialog-scrollable",attrs:{id:"bulkadd"}},[s("div",{staticClass:"modal-content border-0 transparent-card h-50 shadow def-br"},[t._m(2),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("label",[t._v("File (csv or txt)")]),s("input",{staticClass:"mt-2 form-control",attrs:{type:"file"},on:{change:t.onCsvImport}})])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[t.csvimportresult.length>0?s("div",{staticClass:"mt-2"},[s("label",{staticClass:"opacity-7",attrs:{for:"co"}},[t._v("Column with username")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.csvcolumnimport,expression:"csvcolumnimport"}],staticClass:"form-select mt-2",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.csvcolumnimport=e.target.multiple?s:s[0]}}},t._l(t.csvimportresult[0],function(e){return s("option",{key:e,staticClass:"form-check-input",attrs:{type:"radio",name:"inlineRadioOptions",id:"inlineRadio1"}},[t._v("\n                            "+t._s(e)+"\n                          ")])}),0),s("p",{staticClass:"mt-3 fw-100"},[t._v("\n                          "+t._s(t.csvimportresult.slice(1).length)+" rows in the\n                          "),s("code",[t._v(t._s(t.csvcolumnimport))]),t._v(" column\n                        ")])]):t._e()])])])])])])]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-bs-dismiss":"modal"},on:{click:function(e){t.addCsvModal=!1}}},[t._v("\n            Close\n          ")]),s("button",{staticClass:"btn accent-bg text-white",attrs:{type:"button"},on:{click:t.addCsvList}},[t._v("\n            Continue\n          ")])])])])])])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"btn dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"}},[s("span",{staticClass:"text-dark"},[s("i",{staticClass:"far fa-calendar accent-text"}),t._v(" Change\n                      date")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col align-self-center text-center"},[s("div",{staticClass:"spinner-border",attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[t._v("CSV import")])])])}],a=(s("55dd"),s("7f7f"),s("6762"),s("2fdb"),s("28a5"),s("96cf"),s("3b8d")),r=(s("6b54"),s("a481"),s("cadf"),s("551c"),s("097d"),s("bc3a")),i=s.n(r),l=s("2ef0"),c=s.n(l),d=s("69d9"),u=(s("726d"),s("d178")),f=s("c2e9"),m=s("1d92"),p=s("8d51"),h=(s("c1df"),s("b194")),v={name:"Accounts",components:{Navbar:u["a"],LineChart:f["a"],BarChart:m["a"],LeftMenuBar:p["a"],DashboardTitle:h["a"]},metaInfo:function(){return this.createMeta("OwlStat"+(this.$store.state.user.prolevel>2?" Pro ðŸ¦‰":" Lite"),"Dashboard of OwlStat. Analyse your profiles")},data:function(){return{isLoading:!0,user:this.$store.getters.user,bounds:void 0,profiles:void 0,profilesrestore:void 0,checkColor:d["e"],selectedFolder:{name:"",accountsInFolder:[]},sortby:{what:"",how:"desc"},showfolderforprofile:"",searchInput:"",visualization:"all",range:{start:void 0,end:void 0},addCsvModal:!1,csvimportresult:[],csvcolumnimport:""}},methods:{addCsvList:function(){var t=this,e=this.csvimportresult.map(function(e){return e[t.csvimportresult[0].indexOf(t.csvcolumnimport)]}).filter(function(e){return""!=e&&e!=t.csvcolumnimport}).map(function(t){return t?t.toString().trim().toLowerCase().replace(/@|"|,/g,""):null});i.a.post("".concat(d["a"],"/addbulkaccounts"),{usernames:e}).then(function(e){t.$swal.fire({icon:"success",title:"Awesome! ðŸ¥³",text:"We will send you an email when the process is completed."}),t.addCsvModal=!1}).catch(function(e){console.log(e);var s=e.response.status,n="Server error "+s;t.$swal.showValidationMessage("".concat(n)),t.addCsvModal=!1})},onCsvImport:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e){var s,n,o=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:s=e.target.files[0],n=new FileReader,n.onload=function(t){var e=t.target.result.split("\n").map(function(t){return t.split(",").map(function(t){return t.trim()})});o.csvimportresult=e,o.csvcolumnimport=e[0][0],console.log("Result",e)},n.readAsText(s);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),changeRange:function(t){this.isLoading=!0,this.nrequestedstats=t;var e=new Date;e.setDate(e.getDate()-t);var s=new Date;this.range={start:e,end:s},this.getProfiles()},choosenDates:function(){this.getProfiles()},sortBy:function(t){var e="desc"==this.sortby.how?"asc":"desc";this.sortby.what=t;var s=this.profiles;switch(t){case"username":s=c.a.orderBy(s,["_id"],[e]);break;case"followers":s=c.a.orderBy(s,["stat_1.followedby"],[e]);break;case"following":s=c.a.orderBy(s,["stat_1.following"],[e]);break;case"posts":s=c.a.orderBy(s,["stat_1.posts"],[e]);break;case"engagement":s=c.a.orderBy(s,["stat_1.engagement"],[e]);break;default:break}this.profiles=s,this.sortby.how=e},snooze:function(t){var e=this;i.a.post("".concat(d["a"],"/snooze"),{username:t}).then(function(s){var n=e.user;n.snoozed.map(function(t){return t.username}).includes(t)?(console.log("Remove from snoozed",t),n.snoozed=c.a.reject(n.snoozed,function(e){return e.username===t})):(console.log("Add to snoozed",t),n.snoozed.push({username:t,date:new Date})),e.user=n,e.$store.dispatch("user_patch",n)}).catch(function(t){console.log("ERROR",t)})},filter:function(){var t=this;this.profiles=c.a.cloneDeep(this.profilesrestore);var e=this.user.snoozed?this.user.snoozed.map(function(t){return t.username}):[],s=this.user.bounds,n=s.upperBound?s.upperBound:0,o=s.lowerBound?s.lowerBound:0;switch(this.sortby={how:"desc",what:""},this.visualization){case"all":break;case"growing":this.profiles=this.profiles.filter(function(t){return t.stat_1.followedby-t.stat_0.followedby>n&&!e.includes(t._id)});break;case"lowering":this.profiles=this.profiles.filter(function(t){return t.stat_1.followedby-t.stat_0.followedby<=o&&!e.includes(t._id)});break;default:this.profiles=this.profiles.filter(function(t){return e.includes(t._id)});break}""!=this.searchInput&&(this.profiles=this.profiles.filter(function(e){return e._id.includes(t.searchInput)})),""!=this.selectedFolder.name&&(console.log("Filtering folder",this.selectedFolder),this.profiles=this.profiles.filter(function(e){return!!t.selectedFolder.accountsInFolder&&t.selectedFolder.accountsInFolder.indexOf(e._id)>=0}))},deleteAccountSwal:function(t){var e=this;this.$swal.fire({icon:"warning",title:"Are you sure?",text:"@"+t+" will be removed from your list",showCancelButton:!0,confirmButtonText:"Remove",showLoaderOnConfirm:!0,preConfirm:function(){return i.a.delete("".concat(d["a"],"/linkedaccount?username=").concat(t,"&secretkey=mykey"),{timeout:3e3}).then(function(s){var n=e.$store.getters.user,o=n.linkedAccounts;if(o=o.filter(function(e){return e!=t}),n.linkedAccounts=o,e.$store.dispatch("user_patch",n),200==!s.status)throw new Error(s.data);return s}).catch(function(t){console.log("ERROR",t),e.$swal.fire({icon:"error",title:"Error",text:"The account can't be removed from your list, try again later."})})},allowOutsideClick:function(){return!e.$swal.isLoading()}}).then(function(t){t.isConfirmed&&(e.$swal.fire({icon:"success",title:"Awesome! ðŸ¥³",text:"Your account has been removed from your list"}),e.getProfiles())})},selectAccountForFolder:function(t){this.showfolderforprofile=""==this.showfolderforprofile?t:""},addAccountToFolder:function(t,e){var s=this;i.a.post("".concat(d["a"],"/add-to-folder"),{account:t,foldername:e}).then(function(t){return s.getMe(),s.selectAccountForFolder(""),t}).catch(function(t){console.log(t),s.selectAccountForFolder(""),s.$swal.fire({icon:"error",title:"Error",text:"The account can't be added to your folder, try again later."})})},removeAccountFromFolder:function(t,e){var s=this;i.a.post("".concat(d["a"],"/remove-from-folder"),{account:t,foldername:e}).then(function(t){if(s.getMe(),200==!t.status)throw new Error(t.data)}).catch(function(t){console.log(t),s.$swal.fire({icon:"error",title:"Error",text:"The account can't be removed from your folder, try again later."})})},addFolderSwal:function(){var t=this;this.$swal.fire({title:"Folder name",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Add",showLoaderOnConfirm:!0,preConfirm:function(e){return i.a.post("".concat(d["a"],"/folder"),{foldername:e}).then(function(e){if(t.getMe(),200==!e.status)throw new Error(e.data);return e}).catch(function(e){console.log(e);var s="Server error";t.$swal.showValidationMessage("".concat(s))})},allowOutsideClick:function(){return!t.$swal.isLoading()}}).then(function(e){e.isConfirmed&&201!=e.value.status&&t.$swal.fire({icon:"success",title:"Awesome! ðŸ¥³",text:"Your folder has been added"})})},deleteFolderSwal:function(t){var e=this;this.$swal.fire({icon:"warning",title:"Are you sure?",text:"".concat(t," will be removed from your folders. Your accounts will not be removed."),showCancelButton:!0,confirmButtonText:"Remove",showLoaderOnConfirm:!0,preConfirm:function(){return i.a.delete("".concat(d["a"],"/folder?foldername=").concat(t),{timeout:3e3}).then(function(t){e.getCSRF(),e.selectedFolder={name:""}}).catch(function(t){console.log("ERROR",t),e.$swal.fire({icon:"error",title:"Error",text:"The folder can't be removed from your list, try again later."})})},allowOutsideClick:function(){return!e.$swal.isLoading()}}).then(function(t){t.isConfirmed&&(e.$swal.fire({icon:"success",title:"Awesome! ðŸ¥³",text:"Your folder has been removed from your list"}),e.getProfiles())})},addAccountSwal:function(){var t=this;this.$store.getters.user.prolevel>this.$store.getters.user.linkedAccounts.length?this.$swal.fire({title:"Instagram username",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Add",showLoaderOnConfirm:!0,preConfirm:function(e){return e=e.toLowerCase().trim().replaceAll("@",""),i.a.post("".concat(d["a"],"/addaccount"),{username:e}).then(function(s){if(t.getMe(),t.getProfiles(),""!=t.selectedFolder.name&&t.addAccountToFolder(e,t.selectedFolder.name),200==!s.status)throw new Error(s.data);return s}).catch(function(e){console.log(e);var s=e.response.status,n=404==s?"Profile not found":"Server error";t.$swal.showValidationMessage("".concat(n))})},allowOutsideClick:function(){return!t.$swal.isLoading()}}).then(function(e){e.isConfirmed&&201!=e.value.status&&t.$swal.fire({icon:"success",title:"Awesome! ðŸ¥³",text:"Your account has been added"})}):this.$swal.fire({icon:"info",title:"Upgrade your profile",text:"You have no more available slots.",showCancelButton:!0,confirmButtonText:'Upgrade <i class="fas fa-shopping-cart text-white"></i>'}).then(function(e){e.isConfirmed&&t.$router.push("/pricing")})},checkSnoozed:function(t){var e=this.user.snoozed.map(function(t){return t.username});return e.includes(t)},getProfiles:function(){var t=this,e="".concat(d["a"],"/profiles?start=").concat(this.range.start,"&end=").concat(this.range.end);this.$store.getters.uisettings.isCustomDashboard&&(e="".concat(d["a"],"/profiles?subdomain=").concat(this.$store.getters.uisettings.subdomain,"&start=").concat(this.range.start,"&end=").concat(this.range.end)),i.a.get(e,{cache:!1}).then(function(e){t.profiles=e.data,t.profilesrestore=c.a.cloneDeep(e.data);var s=t.profiles.sort(function(t,e){return t.stat_0.date>e.stat_0.date?1:e.stat_0.date>t.stat_0.date?-1:0});t.range={start:s[0].stat_0.date,end:s[0].stat_1.date},t.filter(),t.isLoading=!1}).catch(function(t){return console.log(t)})}},mounted:function(){var t=this;window.addEventListener("keyup",function(e){27===e.keyCode&&t.selectAccountForFolder("")})},created:function(){this.bounds=this.user.bounds;var t=new Date;t.setHours(0,0,0,0);var e=new Date;e.setDate(e.getDate()-1),e.setHours(0,0,0,0),this.range={start:e,end:t},this.getProfiles()}},w=v,g=(s("49ff"),s("2877")),_=Object(g["a"])(w,n,o,!1,null,"5baa69a2",null);_.options.__file="Accounts.vue";e["default"]=_.exports},dc61:function(t,e,s){}}]);
//# sourceMappingURL=chunk-2539eaae.a1ee3096.js.map