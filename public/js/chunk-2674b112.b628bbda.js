(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2674b112"],{"2f21":function(t,a,s){"use strict";var o=s("79e5");t.exports=function(t,a){return!!t&&o(function(){a?t.call(null,function(){},1):t.call(null)})}},"34b1":function(t,a,s){},"55dd":function(t,a,s){"use strict";var o=s("5ca1"),e=s("d8e8"),n=s("4bf8"),r=s("79e5"),i=[].sort,l=[1,2,3];o(o.P+o.F*(r(function(){l.sort(void 0)})||!r(function(){l.sort(null)})||!s("2f21")(i)),"Array",{sort:function(t){return void 0===t?i.call(n(this)):i.call(n(this),e(t))}})},"70e4":function(t,a,s){"use strict";var o=s("34b1"),e=s.n(o);e.a},7277:function(t,a,s){"use strict";s.r(a);var o=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("div",{staticClass:"mt-3 px-2 px-md-0"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-11 col-12 content-col p-lg-5 p-3"},[t.profiles&&!t.isLoading?s("div",[s("dashboard-title",{attrs:{title:"Dashboard",withClock:!0}}),s("div",{staticClass:"row mt-5"},[s("div",{staticClass:"col-md-6 col-12"},[s("h4",{staticClass:"d-md-inline d-block filter-menu-item fw-100",class:{"active fw-400":"summary"==t.visualization},on:{click:function(a){t.visualization="summary",t.filter("summary")}}},[t._v("\n                Summary\n              ")]),s("h4",{staticClass:"d-md-inline d-block filter-menu-item fw-100 ms-md-2",class:{"active fw-400":"bestfour"==t.visualization},on:{click:function(a){t.visualization="bestfour",t.filter("bestfour")}}},[t._v("\n                Best four\n              ")]),s("h4",{staticClass:"d-md-inline d-block filter-menu-item fw-100 ms-md-2",class:{"active fw-400":"worstfour"==t.visualization},on:{click:function(a){t.visualization="worstfour",t.filter("worstfour")}}},[t._v("\n                Worst four\n              ")]),s("router-link",{attrs:{to:"/accounts"}},[s("h4",{staticClass:"\n                    d-md-inline d-block\n                    filter-menu-item\n                    snoozed_menu\n                    fw-100\n                    ms-md-2\n                  "},[t._v("\n                  All your accounts\n                ")])])],1),s("div",{staticClass:"col-md-6 float-end col-12 mt-md-0 mt-4"},[s("div",{staticClass:"row float-md-end"},[s("div",{staticClass:"dropdown my-auto pointer ms-3 me-4",attrs:{"data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[s("button",{staticClass:"btn dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"}},[s("span",{staticClass:"text-dark"},[s("i",{staticClass:"far fa-calendar accent-text"}),t._v("\n                      "+t._s(t.$t("common.change_date")))])]),s("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("a",{staticClass:"dropdown-item",on:{click:function(a){return t.changeRange(2)}}},[t._v(t._s(t.$t("common.yesterday")))]),s("a",{staticClass:"dropdown-item",on:{click:function(a){return t.changeRange(7)}}},[t._v(t._s(t.$t("common.n_days",{n:7})))]),s("a",{staticClass:"dropdown-item",on:{click:function(a){return t.changeRange(14)}}},[t._v(t._s(t.$t("common.n_days",{n:14})))]),s("a",{staticClass:"dropdown-item",on:{click:function(a){return t.changeRange(30)}}},[t._v(t._s(t.$t("common.n_days",{n:30})))])])]),s("div",{staticClass:"col text-left px-0 mx-0 my-auto d-none"},[s("h6",{staticClass:"fw-100 my-auto"},[s("v-date-picker",{attrs:{color:"orange","is-range":"","max-date":new Date,masks:{input:"DD MMM YYYY"}},on:{input:t.choosenDates},scopedSlots:t._u([{key:"default",fn:function(a){var o=a.inputValue,e=a.inputEvents;return[s("div",{staticClass:"opacity-7"},[s("input",t._g({staticClass:"\n                              border-0\n                              px-2\n                              py-1\n                              text-center\n                              focus:outline-none focus:border-indigo-300\n                            ",attrs:{size:o.start.length+1},domProps:{value:o.start}},e.start)),s("i",{staticClass:"fas fa-arrow-right mx-3"}),s("input",t._g({staticClass:"\n                              border-0\n                              py-1\n                              text-center\n                              focus:outline-none focus:border-indigo-300\n                            ",attrs:{size:o.end.length+1},domProps:{value:o.end}},e.end))])]}}],null,!1,1726859964),model:{value:t.range,callback:function(a){t.range=a},expression:"range"}})],1)])])])]),s("div",{staticClass:"row mt-5"},t._l(t.profiles,function(a){return s("div",{key:a.id,staticClass:"col-lg-4 col-md-4 col-xl-3 col-12 mb-5"},[s("router-link",{attrs:{to:"/dashboard/"+a._id}},[s("div",{staticClass:"profileminicard card transparent-card"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-1 text-center text-xl-left my-auto"},[s("img",{staticClass:"rounded-circle my-auto propicimg",attrs:{width:"75",src:a.profilepic},on:{error:t.profilePicAlt}})]),s("div",{staticClass:"col-xl-11 my-auto ms-4"},[s("p",{staticClass:"fw-100 mb-1 ms-2"},[t._v("@"+t._s(a._id))]),s("p",{staticClass:"fw-400 ms-2"},[t._v(t._s(t._f("unicodeToChar")(a.fullname)))]),s("p",{staticClass:"mt-3 fw-200 mb-0"},[s("i",{staticClass:"fas",class:t.checkColorCaret(a.stat_1.followedby-a.stat_0.followedby)}),t._v("\n                          "+t._s(t._f("minusOrPlus")(a.stat_1.followedby-a.stat_0.followedby))+"\n                          followers\n                        ")]),s("p",{staticClass:"fw-200 mb-0"},[s("i",{staticClass:"fas",class:t.checkColorCaret(a.stat_1.following-a.stat_0.following)}),t._v("\n                          "+t._s(t._f("minusOrPlus")(a.stat_1.following-a.stat_0.following))+"\n                          following\n                        ")])])])])])])],1)}),0),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("h3",{staticClass:"under-accent"},[t._v("\n                "+t._s(t.$t("pages.dashboard_homepage.percentage_growth"))+"\n              ")]),s("VueCustomTooltip",{staticClass:"float-md-end ms-md-0 ms-2 my-auto",attrs:{multiline:!0,label:"â€¢ Click on a bar to go into the profile's page\nâ€¢ Click on the legend to show the different measures"}},[s("i",{staticClass:"fas fa-sm fa-info-circle text-dark"})]),s("br"),s("small",{staticClass:"fw-100 text-dark opacity-7"},[t._v(t._s(t.barchartvariation.labels.length)+" with highest\n                variation")]),s("div",{staticClass:"card transparent-card mt-3 text-center"},[s("div",{staticClass:"card-body"},[s("bar-chart",{staticClass:"px-0 py-2",attrs:{"chart-data":t.barchartvariation,options:t.barchartpercentoptions}})],1)])],1)]),s("div",{staticClass:"row mt-5"},[s("div",{staticClass:"col"},[s("h3",{staticClass:"under-accent"},[t._v("\n                "+t._s(t.$t("pages.dashboard_homepage.summary"))+"\n              ")]),s("br"),s("small",{staticClass:"fw-100 text-dark opacity-7"},[t._v("Calculated on all your accounts")])])]),s("div",{staticClass:"row mt-3"},[s("div",{staticClass:"col-md-6 col-xl-3 col-lg-6 col-12"},[s("info-growing-card",{attrs:{title:"Followers",data:t.getSummaryCardValue("followedby")}})],1),s("div",{staticClass:"col-md-6 col-xl-3 col-lg-6 col-12 mt-xl-0 mt-md-0 mt-3"},[s("info-growing-card",{attrs:{title:"Following",data:t.getSummaryCardValue("following")}})],1),s("div",{staticClass:"col-md-6 col-xl-3 col-lg-6 col-12 mt-xl-0 mt-3"},[s("info-growing-card",{attrs:{title:"Posts",data:t.getSummaryCardValue("posts")}})],1),s("div",{staticClass:"col-md-6 col-xl-3 col-lg-6 col-12 mt-xl-0 mt-3"},[s("info-growing-card",{attrs:{title:"Engagement",data:t.getSummaryCardValue("engagement"),showPercentage:!0}})],1)])],1):s("div",{staticClass:"spinner-container container-fluid h-100"},[t._m(0)])])])])])},e=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"row h-100"},[s("div",{staticClass:"col align-self-center text-center"},[s("div",{staticClass:"spinner-border",attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])}],n=(s("55dd"),s("6762"),s("2fdb"),s("cadf"),s("551c"),s("097d"),s("bc3a")),r=s.n(n),i=s("2ef0"),l=s.n(i),c=s("69d9"),d=(s("726d"),s("d178")),u=s("c2e9"),f=s("1d92"),m=s("8d51"),w=s("b194"),h=s("c753"),g=(s("c1df"),{name:"Accounts",components:{Navbar:d["a"],LineChart:u["a"],BarChart:f["a"],LeftMenuBar:m["a"],DashboardTitle:w["a"],InfoGrowingCard:h["a"]},metaInfo:function(){return this.createMeta("OwlStat"+(this.$store.state.user.prolevel>2?" Pro ðŸ¦‰":" Lite"),"Dashboard of OwlStat. Analyse your profiles")},data:function(){return{isLoading:!0,user:this.$store.getters.user,bounds:void 0,profiles:void 0,profilesrestore:void 0,checkColor:c["e"],searchInput:"",visualization:"summary",range:{start:void 0,end:void 0},sortby:{what:"",how:"desc"},barchartvariation:{},barchartpercentoptions:c["c"]}},methods:{getSummaryCardValue:function(t){return this.profilesrestore.map(function(a){var s={};return s.username=a._id,s.difference=a.stat_1[t]-a.stat_0[t],s.difference}).reduce(function(t,a){return t+a})},checkColorCaret:function(t){return{"fa-caret-up text-green":t>0,"fa-caret-down text-red":t<0,"text-yellow":0==t}},changeRange:function(t){this.isLoading=!0,this.nrequestedstats=t;var a=new Date;a.setDate(a.getDate()-t);var s=new Date;this.range={start:a,end:s},console.log(this.range),this.getProfiles()},choosenDates:function(){this.getProfiles()},sortBy:function(t){var a="desc"==this.sortby.how?"asc":"desc";this.sortby.what=t;var s=this.profiles;switch(t){case"username":s=l.a.orderBy(s,["_id"],[a]);break;case"followers":s=l.a.orderBy(s,["stat_1.followedby"],[a]);break;case"following":s=l.a.orderBy(s,["stat_1.following"],[a]);break;case"posts":s=l.a.orderBy(s,["stat_1.posts"],[a]);break;case"engagement":s=l.a.orderBy(s,["stat_1.engagement"],[a]);break;default:break}this.profiles=s,this.sortby.how=a},snooze:function(t){var a=this;r.a.post("".concat(c["a"],"/snooze"),{username:t}).then(function(s){console.log("RESPONSE",s);var o=a.user;o.snoozed.map(function(t){return t.username}).includes(t)?(console.log("Remove from snoozed",t),console.log(o),o.snoozed=l.a.reject(o.snoozed,function(a){return a.username===t}),console.log(o)):(console.log("Add to snoozed",t),o.snoozed.push({username:t,date:new Date})),a.user=o,a.$store.dispatch("user_patch",o)}).catch(function(t){console.log("ERROR",t)})},filter:function(){var t=this;this.profiles=l.a.cloneDeep(this.profilesrestore);var a=this.user.snoozed.map(function(t){return t.username}),s=this.user.bounds,o=s.upperBound?s.upperBound:0,e=s.lowerBound?s.lowerBound:0;this.sortby={how:"desc",what:""};var n=this.profiles.filter(function(t){return t.stat_1.followedby-t.stat_0.followedby>=o&&!a.includes(t._id)}).sort(function(t,a){return t.stat_0.followedby-t.stat_1.followedby>a.stat_0.followedby-a.stat_1.followedby?1:a.stat_0.followedby-a.stat_1.followedby>t.stat_0.followedby-t.stat_1.followedby?-1:0}).slice(0,4),r=this.profiles.filter(function(t){return t.stat_1.followedby-t.stat_0.followedby<e&&!a.includes(t._id)}).sort(function(t,a){return t.stat_0.followedby-t.stat_1.followedby<a.stat_0.followedby-a.stat_1.followedby?1:a.stat_0.followedby-a.stat_1.followedby<t.stat_0.followedby-t.stat_1.followedby?-1:0}).slice(0,4);switch(this.visualization){case"summary":this.profiles=n.slice(0,2).concat(r.slice(0,2));break;case"bestfour":this.profiles=n;break;case"worstfour":this.profiles=r;break;default:this.profiles=this.profiles.filter(function(t){return a.includes(t._id)});break}""!=this.searchInput&&(this.profiles=this.profiles.filter(function(a){return a._id.includes(t.searchInput)}))},deleteAccountSwal:function(t){var a=this;this.$swal.fire({icon:"warning",title:"Are you sure?",text:"@"+t+" will be removed from your list",showCancelButton:!0,confirmButtonText:"Remove",showLoaderOnConfirm:!0,preConfirm:function(){return r.a.delete("".concat(c["a"],"/linkedaccount?username=").concat(t,"&secretkey=mykey")).then(function(t){if(console.log("RESPONSE",t),console.log("RESPONSE",200==t.status),200==!t.status)throw new Error(t.data);return t}).catch(function(t){console.log("ERROR",t),a.$swal.showValidationMessage("".concat(t))})},allowOutsideClick:function(){return!a.$swal.isLoading()}}).then(function(t){console.log("RESULT",t),t.isConfirmed&&(a.$swal.fire({icon:"success",title:"Awesome! ðŸ¥³",text:"Your account has been removed from your list"}),a.getProfiles(),a.$store.dispatch("update"))})},addAccountSwal:function(){var t=this;this.$swal.fire({title:"Instagram username",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Add",showLoaderOnConfirm:!0,preConfirm:function(a){return r.a.post("".concat(c["a"],"/addaccount"),{username:a}).then(function(t){if(console.log("RESPONSE",t),console.log("RESPONSE",200==t.status),200==!t.status)throw new Error(t.data);return t}).catch(function(a){var s=a.response.status,o=404==s?"Profile not found":"Server error";t.$swal.showValidationMessage("".concat(o))})},allowOutsideClick:function(){return!t.$swal.isLoading()}}).then(function(a){a.isConfirmed&&201!=a.value.status&&(t.$swal.fire({icon:"success",title:"Awesome! ðŸ¥³",text:"Your account has been added"}),t.$store.dispatch("update"),t.getProfiles())})},checkSnoozed:function(t){var a=this.user.snoozed.map(function(t){return t.username});return a.includes(t)},getProfiles:function(){var t=this,a="".concat(c["a"],"/profiles?start=").concat(this.range.start,"&end=").concat(this.range.end);this.$store.getters.uisettings.isCustomDashboard&&(a="".concat(c["a"],"/profiles?subdomain=").concat(this.$store.getters.uisettings.subdomain,"&start=").concat(this.range.start,"&end=").concat(this.range.end)),r.a.get(a).then(function(a){console.log(a.data),t.profiles=a.data,t.profilesrestore=l.a.cloneDeep(a.data);var s=t.profiles.sort(function(t,a){return t.stat_0.date>a.stat_0.date?1:a.stat_0.date>t.stat_0.date?-1:0});t.range={start:s[0].stat_0.date,end:s[0].stat_1.date},console.log("PROF",s);var o=t.profiles.sort(function(t,a){return Math.abs((t.stat_1.followedby-t.stat_0.followedby)/t.stat_0.followedby*100)>Math.abs((a.stat_1.followedby-a.stat_0.followedby)/a.stat_0.followedby*100)?1:Math.abs((a.stat_1.followedby-a.stat_0.followedby)/a.stat_0.followedby*100)>Math.abs((t.stat_1.followedby-t.stat_0.followedby)/t.stat_0.followedby*100)?-1:0}).reverse();console.log(o),t.barchartvariation={labels:o.map(function(t){return t._id}).slice(0,10),datasets:[{label:"Followers",backgroundColor:"#7C99AC",pointBorderColor:"#7C99AC",pointHoverBorderColor:"#55bae7",data:o.map(function(t){return(t.stat_1.followedby-t.stat_0.followedby)/t.stat_0.followedby*100}).slice(0,10),fill:!1},{label:"Following",backgroundColor:"#92A9BD",pointBorderColor:"#92A9BD",pointHoverBorderColor:"#55bae7",data:o.map(function(t){return(t.stat_1.following-t.stat_0.following)/t.stat_0.following*100}).slice(0,10),fill:!1},{label:"Engagement",backgroundColor:"#D3DEDC",pointBorderColor:"#D3DEDC",pointHoverBorderColor:"#55bae7",data:o.map(function(t){return t.stat_1.engagement-t.stat_0.engagement}).slice(0,10),fill:!1}]},t.filter(),t.isLoading=!1}).catch(function(t){return console.log(t)})}},created:function(){this.bounds=this.user.bounds;var t=new Date;t.setHours(0,0,0,0);var a=new Date;a.setDate(a.getDate()-1),a.setHours(0,0,0,0),this.range={start:a,end:t},this.getProfiles(),console.log("Dashboard created",this.profiles)}}),p=g,b=(s("70e4"),s("2877")),v=Object(b["a"])(p,o,e,!1,null,"491c1e9e",null);v.options.__file="Dashboard.vue";a["default"]=v.exports},c753:function(t,a,s){"use strict";var o=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"card transparent-card"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-9 col-md-8"},[s("h4",{staticClass:"text-gray text-responsive"},[t._v(t._s(t.title))]),s("h3",[t._v(t._s(t._f("minusOrPlus")(t.data))+t._s(t.showPercentage?"%":""))])]),s("div",{staticClass:"col-3 col-md-4 my-auto text-end"},[s("div",{staticClass:"growth-icon float-end",class:{"bg-green":t.data>0,"bg-red":t.data<0}},[s("i",{staticClass:"fas",class:{"fa-arrow-up":t.data>0,"fa-arrow-down":t.data<0}})])])])])])},e=[],n={name:"InfoGrowingCard",props:["title","data","showPercentage"],data:function(){return{}},methods:{}},r=n,i=s("2877"),l=Object(i["a"])(r,o,e,!1,null,"7da890c6",null);l.options.__file="InfoGrowingCard.vue";a["a"]=l.exports}}]);
//# sourceMappingURL=chunk-2674b112.b628bbda.js.map