(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-782daff1"],{a92d:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"mt-3 px-2 px-md-0"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-11 col-12 content-col p-lg-5 p-3"},[t.user?a("div",[a("dashboard-title",{attrs:{title:"Goals",withClock:!0}}),a("div",{staticClass:"row mt-5"},[a("div",{staticClass:"col-xl-5 col-lg-6 col-12"},[t._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"card transparent-card mt-3 h-100"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row mt-3 justify-content-center"},[a("div",{staticClass:"col-lg-6 col-12"},[a("label",{staticClass:"opacity-7 fw-300"},[t._v("Profile")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedProfile,expression:"selectedProfile"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.selectedProfile=e.target.multiple?a:a[0]},t.updateActualStat]}},[a("option",{attrs:{value:"undefined",disabled:"",selected:""}},[t._v("\n                              Profile\n                            ")]),t._l(t.$store.getters.uisettings.isCustomDashboard?t.$store.getters.uisettings.accountsList:t.$store.getters.user.linkedAccounts,function(e){return a("option",{key:e,domProps:{value:e}},[t._v("\n                              @"+t._s(e)+"\n                            ")])})],2)]),a("div",{staticClass:"col-lg-6 col-12 mt-lg-0 mt-2"},[a("label",{staticClass:"opacity-7 fw-300"},[t._v("Condition")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.absolute,expression:"absolute"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.absolute=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",selected:""}},[t._v("If")]),a("option",{attrs:{value:"false"}},[t._v("The increment is")]),a("option",{attrs:{value:"true"}},[t._v("Has")])])]),a("div",{staticClass:"col-lg-6 col-12 mt-2"},[a("label",{staticClass:"opacity-7 fw-300"},[t._v("Filter")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.filter=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",selected:""}},[t._v("Filter")]),a("option",{attrs:{value:"<"}},[t._v("Less than")]),a("option",{attrs:{value:">"}},[t._v("More than")])])]),a("div",{staticClass:"col-lg-6 col-12 mt-2"},[a("label",{staticClass:"opacity-7 fw-300"},[t._v("Target")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.target,expression:"target"}],staticClass:"form-control",attrs:{placeholder:"0"},domProps:{value:t.target},on:{input:function(e){e.target.composing||(t.target=e.target.value)}}}),t.selectedProfile?a("label",{staticClass:"ms-2"},[a("small",[t.actualStatsProfile?a("span",{staticClass:"fw-100"},[t._v("Actual")]):t._e(),t._v(":\n                              "+t._s("Followers"==t.misure?t.actualStatsProfile.followedby.toLocaleString("en-us"):"Following"==t.misure?t.actualStatsProfile.following.toLocaleString("en-us"):t.actualStatsProfile.posts.toLocaleString("en-us")))])]):t._e()]),a("div",{staticClass:"col-lg-6 col-12 mt-2"},[a("label",{staticClass:"opacity-7 fw-300"},[t._v("Misure")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.misure,expression:"misure"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.misure=e.target.multiple?a:a[0]}}},[a("option",[t._v("Followers")]),a("option",[t._v("Following")]),a("option",[t._v("Posts")])])]),a("div",{staticClass:"col-lg-6 col-12 mt-2"},[a("label",{staticClass:"opacity-7 fw-300"},[t._v("Timeframe")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.followingdays,expression:"followingdays"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.followingdays=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",selected:""}},[t._v("\n                              In the following\n                            ")]),a("option",{attrs:{value:"1"}},[t._v("1 day")]),a("option",{attrs:{value:"3"}},[t._v("3 days")]),a("option",{attrs:{value:"7"}},[t._v("7 days")]),a("option",{attrs:{value:"30"}},[t._v("1 month")]),a("option",{attrs:{value:"90"}},[t._v("3 months")]),a("option",[t._v("Custom")])])]),a("div",{staticClass:"col text-center my-auto"},[a("label"),a("button",{staticClass:"btn d-block btn-rounded accent-bg"},[a("i",{staticClass:"fas fa-plus text-white",attrs:{id:"addbtn"},on:{click:t.addGoal}})])])])])])])])]),t.goals.length>0?a("div",{staticClass:"col-xl-7 col-lg-6 col-12 mt-xl-0 mt-5"},[t._m(1),t.goals.length>0?a("div",{staticClass:"row mt-3 justify-content-center h-100"},[a("div",{staticClass:"col-lg-12 col-12 table-responsive text-center"},[a("div",{staticClass:"card transparent-card"},[a("div",{staticClass:"card-body text-center"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col"},[a("table",{staticClass:"table text-center"},[t._m(2),a("tbody",t._l(t.goals,function(e){return a("tr",{key:e.id},[a("th",{staticClass:"fw-300"},[a("span",{class:{"goal-achieved":1==e.achieved,"goal-failed":0==e.achieved}},[void 0==e.achieved?a("i",{staticClass:"far fa-clock"}):t._e(),0==e.achieved?a("i",{staticClass:"fas fa-times"}):t._e(),1==e.achieved?a("i",{staticClass:"fas fa-check"}):t._e(),t._v("\n                                    If @"+t._s(e.linkedAccount)+"\n                                    "+t._s(e.absolute?"has":"gained")+"\n                                    "+t._s((">"==e.filter?"more":"less")+" than")+"Â "),a("span",{staticClass:"text-accent"},[t._v(t._s(e.goalNumber))]),t._v("\n                                    "+t._s(e.target)+"\n                                  ")])]),a("th",[a("span",[t._v(t._s(t._f("formatDate")(e.dueDate)))])]),a("th",[a("VueCustomTooltip",{attrs:{label:"Remove goal"}},[a("i",{staticClass:"fas fa-trash text-red ms-1",on:{click:function(a){return t.deleteGoalSwal(e._id)}}})])],1)])}),0)])])])])])])]):t._e()]):t._e()])],1):a("div",{staticClass:"spinner-container container-fluid h-100"},[t._m(3)])])])])])},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col"},[a("h4",{staticClass:"under-accent"},[t._v("Add goal")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col"},[a("h4",{staticClass:"under-accent"},[t._v("Your goals")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Goal")]),a("th",[t._v("Deadline")]),a("th",[t._v("Actions")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row h-100"},[a("div",{staticClass:"col align-self-center text-center"},[a("div",{staticClass:"spinner-border",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])}],o=a("e814"),i=a.n(o),n=(a("cadf"),a("551c"),a("097d"),a("bc3a")),c=a.n(n),r=(a("2ef0"),a("69d9")),u=(a("726d"),a("d178")),d=a("c2e9"),v=a("1d92"),f=a("8d51"),m=(a("c1df"),a("b194")),g={name:"Accounts",components:{Navbar:u["a"],LineChart:d["a"],BarChart:v["a"],LeftMenuBar:f["a"],DashboardTitle:m["a"]},data:function(){return{user:this.$store.getters.user,selectedProfile:void 0,actualStatsProfile:void 0,misure:"Followers",target:void 0,filter:"Filter",absolute:!0,followingdays:1,goals:[]}},methods:{getGoals:function(){var t=this;c.a.get("".concat(r["a"],"/goals"),{cache:!1}).then(function(e){console.log("RESPONSE",e),t.goals=e.data,console.log(t.goals)}).catch(function(t){console.log("ERROR",t)})},addGoal:function(){var t=this,e=new Date,a=new Date;a=new Date(a.setDate(e.getDate()+i()(this.followingdays)));var s={linkedAccount:this.selectedProfile,target:this.misure.toLowerCase(),goalNumber:this.target,absolute:this.absolute,filter:this.filter,dueDate:a};console.log(s),c.a.post("".concat(r["a"],"/goals"),s).then(function(e){console.log("RESPONSE",e),t.getGoals(),t.$swal.fire({icon:"success",title:"Awesome!",text:"Your alert has been added ðŸ¥³"})}).catch(function(t){console.log("ERROR",t)})},updateActualStat:function(t){var e=this;c.a.get("".concat(r["a"],"/dailystats?username=").concat(t.target.value,"&time=1"),{cache:!1}).then(function(t){console.log(t.data),e.actualStatsProfile=t.data[0]}).catch(function(t){return console.log(t)})},deleteGoalSwal:function(t){var e=this;this.$swal.fire({icon:"warning",title:"Are you sure?",text:"The alert will be removed from your list and you won't receive any notification about it",showCancelButton:!0,confirmButtonText:"Remove",showLoaderOnConfirm:!0,preConfirm:function(){return c.a.delete("".concat(r["a"],"/goals?id=").concat(t)).then(function(t){if(200==!t.status)throw new Error(t.data);return t}).catch(function(t){console.log("ERROR",t),e.$swal.showValidationMessage("".concat(t))})},allowOutsideClick:function(){return!e.$swal.isLoading()}}).then(function(t){t.isConfirmed&&(e.$swal.fire({icon:"success",title:"Awesome!",text:"Your alert has been removed"}),e.getGoals(),e.$store.dispatch("update"))})}},created:function(){this.getGoals()}},p=g,h=(a("bae1"),a("2877")),_=Object(h["a"])(p,s,l,!1,null,"e6934814",null);_.options.__file="Goals.vue";e["default"]=_.exports},bae1:function(t,e,a){"use strict";var s=a("cafe"),l=a.n(s);l.a},cafe:function(t,e,a){}}]);
//# sourceMappingURL=chunk-782daff1.fdce5842.js.map